{"ast":null,"code":"import _classCallCheck from\"E:\\\\Interviews\\\\Orbis\\\\stocktwits-react-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\Interviews\\\\Orbis\\\\stocktwits-react-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"E:\\\\Interviews\\\\Orbis\\\\stocktwits-react-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"E:\\\\Interviews\\\\Orbis\\\\stocktwits-react-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"E:\\\\Interviews\\\\Orbis\\\\stocktwits-react-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\Interviews\\\\Orbis\\\\stocktwits-react-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from\"axios\";import\"bootstrap/dist/css/bootstrap.min.css\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);function Search(props){var _this;_classCallCheck(this,Search);_this=_possibleConstructorReturn(this,_getPrototypeOf(Search).call(this,props));_this.state={items:\"\",results:[],symbol:[],count:[],showMe:false};_this.onChangeSearch=_this.onChangeSearch.bind(_assertThisInitialized(_this));_this.checkTicker=_this.checkTicker.bind(_assertThisInitialized(_this));return _this;}_createClass(Search,[{key:\"onChangeSearch\",value:function onChangeSearch(e){this.setState({items:e.target.value});}},{key:\"checkTicker\",value:function checkTicker(e){var _this2=this;e.preventDefault();var sortData=[];var tweetCount=[];var symbolVal=[];var itemArray=this.state.items.split(\",\");console.log(\"itemArray: \",itemArray.length);var _loop=function _loop(i){axios.get(\"https://ranaamahveen.github.io/stocktwits-react-ui\".concat(itemArray[i])).then(function(response){tweetCount.push(response.data.messages.length);symbolVal.push(itemArray[i]);sortData=sortData.concat(response.data.messages);sortData.sort(function(a,b){return b.created_at.localeCompare(a.created_at);});_this2.setState({symbol:symbolVal,count:tweetCount,results:sortData,showMe:true});}).catch(function(error){console.log(error);});setTimeout(axios,5000);};for(var i=0;i<itemArray.length;i++){_loop(i);}}},{key:\"symbolName\",value:function symbolName(){return this.state.symbol.map(function(eachSymbol,index){return React.createElement(\"div\",{key:index},eachSymbol);});}},{key:\"symbolCount\",value:function symbolCount(){return this.state.count.map(function(eachSymbol,index){return React.createElement(\"div\",{key:index},eachSymbol);});}},{key:\"handleCount\",value:function handleCount(){if(this.state.showMe){return React.createElement(\"table\",{border:1},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Symbol\"),React.createElement(\"th\",null,\"Number of Tweets\"))),React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",null,this.symbolName()),React.createElement(\"td\",null,this.symbolCount()))));}}},{key:\"handleHeader\",value:function handleHeader(){if(this.state.showMe){return React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Number\"),React.createElement(\"th\",null,\"Tweets\"),React.createElement(\"th\",null,\"Time Stamp\"));}}},{key:\"render\",value:function render(){return React.createElement(\"div\",{style:{marginTop:10}},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-5\"}),React.createElement(\"div\",{className:\"col-md-6\"},React.createElement(\"h3\",{className:\"text-danger\"},\"Search for Tweets\"),React.createElement(\"br\",null))),React.createElement(\"form\",null,React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-4\"}),React.createElement(\"div\",{className:\"col-md-4\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.items,onChange:this.onChangeSearch}))),React.createElement(\"div\",{className:\"col-md-1\"},React.createElement(\"button\",{className:\"form-control btn-primary\",onClick:this.checkTicker},\"Search\"))),React.createElement(\"br\",null),this.handleCount(),React.createElement(\"br\",null),React.createElement(\"table\",{border:1},React.createElement(\"tbody\",null,this.handleHeader(),this.state.results.map(function(eachField,index){return React.createElement(\"tr\",{key:index},React.createElement(\"td\",null,index+1),React.createElement(\"td\",null,eachField.body),React.createElement(\"td\",null,eachField.created_at));})))));}}]);return Search;}(Component);export{Search as default};","map":{"version":3,"sources":["E:/Interviews/Orbis/stocktwits-react-ui/src/components/search/Search.js"],"names":["React","Component","axios","Search","props","state","items","results","symbol","count","showMe","onChangeSearch","bind","checkTicker","e","setState","target","value","preventDefault","sortData","tweetCount","symbolVal","itemArray","split","console","log","length","i","get","then","response","push","data","messages","concat","sort","a","b","created_at","localeCompare","catch","error","setTimeout","map","eachSymbol","index","symbolName","symbolCount","marginTop","handleCount","handleHeader","eachField","body"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport default class Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      items: \"\",\r\n      results: [],\r\n      symbol: [],\r\n      count: [],\r\n      showMe: false\r\n    };\r\n    this.onChangeSearch = this.onChangeSearch.bind(this);\r\n    this.checkTicker = this.checkTicker.bind(this);\r\n  }\r\n  onChangeSearch(e) {\r\n    this.setState({ items: e.target.value });\r\n  }\r\n  checkTicker(e) {\r\n    e.preventDefault();\r\n    let sortData = [];\r\n    let tweetCount = [];\r\n    let symbolVal = [];\r\n    const itemArray = this.state.items.split(\",\");\r\n    console.log(\"itemArray: \", itemArray.length);\r\n    for (let i = 0; i < itemArray.length; i++) {\r\n      axios\r\n        .get(\r\n          `https://ranaamahveen.github.io/stocktwits-react-ui${itemArray[i]}`\r\n        )\r\n        .then(response => {\r\n          tweetCount.push(response.data.messages.length);\r\n          symbolVal.push(itemArray[i]);\r\n          sortData = sortData.concat(response.data.messages);\r\n          sortData.sort((a, b) => b.created_at.localeCompare(a.created_at));\r\n          this.setState({\r\n            symbol: symbolVal,\r\n            count: tweetCount,\r\n            results: sortData,\r\n            showMe: true\r\n          });\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n      setTimeout(axios, 5000);\r\n    }\r\n  }\r\n  symbolName() {\r\n    return this.state.symbol.map(function(eachSymbol, index) {\r\n      return <div key={index}>{eachSymbol}</div>;\r\n    });\r\n  }\r\n  symbolCount() {\r\n    return this.state.count.map(function(eachSymbol, index) {\r\n      return <div key={index}>{eachSymbol}</div>;\r\n    });\r\n  }\r\n  handleCount() {\r\n    if (this.state.showMe) {\r\n      return (\r\n        <table border={1}>\r\n          <thead>\r\n            <tr>\r\n              <th>Symbol</th>\r\n              <th>Number of Tweets</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>{this.symbolName()}</td>\r\n              <td>{this.symbolCount()}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      );\r\n    }\r\n  }\r\n  handleHeader() {\r\n    if (this.state.showMe) {\r\n      return (\r\n        <tr>\r\n          <th>Number</th>\r\n          <th>Tweets</th>\r\n          <th>Time Stamp</th>\r\n        </tr>\r\n      );\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-5\"></div>\r\n          <div className=\"col-md-6\">\r\n            <h3 className=\"text-danger\">Search for Tweets</h3>\r\n            <br />\r\n          </div>\r\n        </div>\r\n        <form>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4\"></div>\r\n            <div className=\"col-md-4\">\r\n              <div className=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.items}\r\n                  onChange={this.onChangeSearch}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-1\">\r\n              <button\r\n                className=\"form-control btn-primary\"\r\n                onClick={this.checkTicker}\r\n              >\r\n                Search\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          {this.handleCount()}\r\n          <br />\r\n          <table border={1}>\r\n            <tbody>\r\n              {this.handleHeader()}\r\n              {this.state.results.map(function(eachField, index) {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{eachField.body}</td>\r\n                    <td>{eachField.created_at}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}