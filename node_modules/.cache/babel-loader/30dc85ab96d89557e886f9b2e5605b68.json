{"ast":null,"code":"var _jsxFileName = \"E:\\\\Interviews\\\\Orbis\\\\stocktwits-react-ui\\\\src\\\\App.js\";\nimport React from \"react\";\nimport ThemeProvider from \"@material-ui/styles/\";\nimport Search from \"./components/search/Search\";\nimport NavBar from \"./components/navbar/NavBar\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: true,\n      tickers: []\n    };\n  }\n\n  componentDidMount() {\n    const date = localStorage.getItem(\"tickersDate\");\n    const tickersDate = date && new Date(parseInt(date));\n    const now = new Date();\n    const dataAge = Math.round((now - tickersDate) / (1000 * 60)); // in minutes\n\n    const tooOld = dataAge >= 1;\n\n    if (tooOld) {\n      this.fetchData();\n    } else {\n      console.log(`Using data from localStorage that are ${dataAge} minutes old.`);\n    }\n  }\n\n  fetchData() {\n    this.setState({\n      isLoading: true,\n      tickers: []\n    });\n    fetch(\"https://api.stocktwits.com/api/2/streams/symbol/TSLA.json\").then(parsedJSON => {\n      let mes = parsedJSON.messages.map(msg => {\n        return React.createElement(\"div\", {\n          key: msg.body,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, msg.body);\n      });\n      this.setState({\n        tickers: mes\n      });\n      console.log(\"state\", JSON.stringify(this.state.tickers[0]));\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          tickers = _this$state.tickers;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(Search, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, this.state.tickers[0]), \";\");\n  }\n\n}\n\nexport default App;\n/*then(parsedJSON => console.log(parsedJSON.messages[0].body))*/","map":{"version":3,"sources":["E:/Interviews/Orbis/stocktwits-react-ui/src/App.js"],"names":["React","ThemeProvider","Search","NavBar","App","Component","constructor","state","isLoading","tickers","componentDidMount","date","localStorage","getItem","tickersDate","Date","parseInt","now","dataAge","Math","round","tooOld","fetchData","console","log","setState","fetch","then","parsedJSON","mes","messages","map","msg","body","JSON","stringify","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;;AAEA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,IADA;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAb;AACA,UAAMC,WAAW,GAAGH,IAAI,IAAI,IAAII,IAAJ,CAASC,QAAQ,CAACL,IAAD,CAAjB,CAA5B;AACA,UAAMM,GAAG,GAAG,IAAIF,IAAJ,EAAZ;AAEA,UAAMG,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAW,CAACH,GAAG,GAAGH,WAAP,KAAuB,OAAO,EAA9B,CAAX,CAAhB,CALkB,CAK6C;;AAC/D,UAAMO,MAAM,GAAGH,OAAO,IAAI,CAA1B;;AAEA,QAAIG,MAAJ,EAAY;AACV,WAAKC,SAAL;AACD,KAFD,MAEO;AACLC,MAAAA,OAAO,CAACC,GAAR,CACG,yCAAwCN,OAAQ,eADnD;AAGD;AACF;;AAEDI,EAAAA,SAAS,GAAG;AACV,SAAKG,QAAL,CAAc;AACZjB,MAAAA,SAAS,EAAE,IADC;AAEZC,MAAAA,OAAO,EAAE;AAFG,KAAd;AAKAiB,IAAAA,KAAK,CAAC,2DAAD,CAAL,CAAmEC,IAAnE,CACEC,UAAU,IAAI;AACZ,UAAIC,GAAG,GAAGD,UAAU,CAACE,QAAX,CAAoBC,GAApB,CAAwBC,GAAG,IAAI;AACvC,eAAO;AAAK,UAAA,GAAG,EAAEA,GAAG,CAACC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqBD,GAAG,CAACC,IAAzB,CAAP;AACD,OAFS,CAAV;AAGA,WAAKR,QAAL,CAAc;AAAEhB,QAAAA,OAAO,EAAEoB;AAAX,OAAd;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBU,IAAI,CAACC,SAAL,CAAe,KAAK5B,KAAL,CAAWE,OAAX,CAAmB,CAAnB,CAAf,CAArB;AACD,KAPH;AASD;;AAED2B,EAAAA,MAAM,GAAG;AAAA,wBACwB,KAAK7B,KAD7B;AAAA,UACCC,SADD,eACCA,SADD;AAAA,UACYC,OADZ,eACYA,OADZ;AAEP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKF,KAAL,CAAWE,OAAX,CAAmB,CAAnB,CAAN,CAHF,MADF;AAOD;;AApD+B;;AAsDlC,eAAeL,GAAf;AACA","sourcesContent":["import React from \"react\";\nimport ThemeProvider from \"@material-ui/styles/\";\nimport Search from \"./components/search/Search\";\nimport NavBar from \"./components/navbar/NavBar\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: true,\n      tickers: []\n    };\n  }\n\n  componentDidMount() {\n    const date = localStorage.getItem(\"tickersDate\");\n    const tickersDate = date && new Date(parseInt(date));\n    const now = new Date();\n\n    const dataAge = Math.round((now - tickersDate) / (1000 * 60)); // in minutes\n    const tooOld = dataAge >= 1;\n\n    if (tooOld) {\n      this.fetchData();\n    } else {\n      console.log(\n        `Using data from localStorage that are ${dataAge} minutes old.`\n      );\n    }\n  }\n\n  fetchData() {\n    this.setState({\n      isLoading: true,\n      tickers: []\n    });\n\n    fetch(\"https://api.stocktwits.com/api/2/streams/symbol/TSLA.json\").then(\n      parsedJSON => {\n        let mes = parsedJSON.messages.map(msg => {\n          return <div key={msg.body}>{msg.body}</div>;\n        });\n        this.setState({ tickers: mes });\n        console.log(\"state\", JSON.stringify(this.state.tickers[0]));\n      }\n    );\n  }\n\n  render() {\n    const { isLoading, tickers } = this.state;\n    return (\n      <div>\n        <NavBar />\n        <Search />\n        <div>{this.state.tickers[0]}</div>;\n      </div>\n    );\n  }\n}\nexport default App;\n/*then(parsedJSON => console.log(parsedJSON.messages[0].body))*/\n"]},"metadata":{},"sourceType":"module"}